(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{26:function(e,t,n){e.exports=n(39)},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(10),o=n.n(a),u=n(3),s=n(24),l=n(2),i=n(7),d=n(21),m=n(22),E=function(e){return e.todos},f=function(e){return e.userId},b=function(e){return e.todoId},O=function(e){return e.user},p=function(e){return e.errors},_=function(e){return e.userLoading},j={todos:[],userId:0,todoId:0,user:null,errors:{},userLoading:!1},h=Object(i.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TODOS":return Object(l.a)(Object(l.a)({},e),{},{todos:t.todos});case"GET_USER":return Object(l.a)(Object(l.a)({},e),{},{user:t.user});case"GET_USER_ERROR":return Object(l.a)(Object(l.a)({},e),{},{errors:Object(l.a)(Object(l.a)({},e.errors),{},{user:"User not found"})});case"UPDATE_USER_ID":return Object(l.a)(Object(l.a)({},e),{},{userId:t.id});case"UPDATE_TODO_ID":return Object(l.a)(Object(l.a)({},e),{},{todoId:t.id});case"CLEAR":return Object(l.a)(Object(l.a)({},e),{},{todoId:0,userId:0,user:{}});case"RESET_ERRORS":return Object(l.a)(Object(l.a)({},e),{},{errors:{}});case"USER_LOADING":return Object(l.a)(Object(l.a)({},e),{},{userLoading:t.bool});default:return e}}),Object(d.composeWithDevTools)(Object(i.applyMiddleware)(m.a))),v=(n(35),n(25)),T=n(17),R=function(e,t){return fetch("".concat("https://mate-api.herokuapp.com/").concat(e),t).then((function(e){if(!e.ok)throw new Error("".concat(e.status));return e.json()}))},y=function(e){return{type:"USER_LOADING",bool:e}},U=function(e){return{type:"GET_USER",user:e}},N=function(){return{type:"RESET_ERRORS"}},S=n(23),L=n.n(S),I=function(e){var t=e.todo,n=t.id,r=t.title,a=t.userId,o=t.completed,s=Object(u.c)(b),l=Object(u.b)();return c.a.createElement("li",{className:"TodoList__item ".concat(o?"TodoList__item--checked":"TodoList__item--unchecked"),key:n},c.a.createElement("label",null,c.a.createElement("input",{type:"checkbox",checked:o,readOnly:!0}),c.a.createElement("p",null,r)),c.a.createElement("button",{className:L()("TodoList__user-button",{"TodoList__user-button--selected":s===n},"button"),type:"button",onClick:function(){n!==s?(l(function(e){return{type:"UPDATE_TODO_ID",id:e}}(n)),l(function(e){return{type:"UPDATE_USER_ID",id:e}}(a))):l({type:"CLEAR"})}},"User #".concat(a)))},D=(n(36),["all","active","completed"]),g=c.a.memo((function(){var e=Object(u.c)(E),t=Object(u.b)(),n=Object(r.useState)(""),a=Object(T.a)(n,2),o=a[0],s=a[1],l=Object(r.useState)("all"),i=Object(T.a)(l,2),d=i[0],m=i[1];Object(r.useEffect)((function(){t((function(e){R("todos").then((function(t){return e({type:"GET_TODOS",todos:t.data})}))}))}),[]);var f=Object(r.useMemo)((function(){return function(){if(e){var t=Object(v.a)(e);return"active"===d&&(t=t.filter((function(e){return e.title&&!e.completed}))),"completed"===d&&(t=t.filter((function(e){return e.title&&e.completed}))),t.filter((function(e){return e.title&&e.title.includes(o)}))}return[]}()}),[e,d,o]);return c.a.createElement("div",{className:"TodoList"},c.a.createElement("h2",null,"Todos:"),c.a.createElement("input",{type:"text",value:o,placeholder:"search",onChange:function(e){return s(e.target.value)}}),c.a.createElement("select",{name:"select",value:d,onChange:function(e){return m(e.target.value)}},D.map((function(e){return c.a.createElement("option",{key:e},e)}))),c.a.createElement("div",{className:"TodoList__list-container"},c.a.createElement("ul",{className:"TodoList__list"},f.length>0?f.map((function(e){return c.a.createElement(I,{todo:e,key:e.id})})):"No todos")))})),k=(n(37),function(){var e=Object(u.c)(f),t=Object(u.c)(O),n=Object(u.c)(p),a=Object(u.c)(_),o=Object(u.b)();Object(r.useEffect)((function(){var t;o((t=e,function(e){e(y(!0)),R("users/".concat(t)).then((function(t){if(e(N()),!t.data)throw new Error;e(U(t.data)),e(y(!1))})).catch((function(){e(U({})),e({type:"GET_USER_ERROR"}),e(y(!1))}))}))}),[e]);return c.a.createElement("div",{className:"CurrentUser"},!a&&t?function(t){return n.user?"Such user does not exist":c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",{className:"CurrentUser__title"},c.a.createElement("span",null,"Selected user:\xa0",e)),c.a.createElement("h3",{className:"CurrentUser__name"},t.name),c.a.createElement("p",{className:"CurrentUser__email"},t.email),c.a.createElement("p",{className:"CurrentUser__phone"},t.phone),c.a.createElement("button",{type:"button",className:"clear-btn",onClick:function(){return o({type:"CLEAR"})}},"Clear"))}(t):c.a.createElement("div",{className:"loading"},"Loading..."))}),A=function(){var e=Object(u.c)(f);return c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"App__sidebar"},c.a.createElement(g,null)),c.a.createElement("div",{className:"App__content"},c.a.createElement("div",{className:"App__content-container"},e?c.a.createElement(k,null):"User not selected")))},C=function(){return c.a.createElement(u.a,{store:h},c.a.createElement(s.a,null,c.a.createElement(A,null)))};o.a.render(c.a.createElement(C,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.7e06d193.chunk.js.map