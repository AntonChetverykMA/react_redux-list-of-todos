(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{26:function(e,t,n){e.exports=n(39)},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n.n(a),o=n(10),u=n.n(o),l=n(3),s=n(24),i=n(2),d=n(7),m=n(22),E=n(23),b=function(e){return e.todos},f=function(e){return e.userId},O=function(e){return e.todoId},p=function(e){return e.user},_=function(e){return e.errors},j=function(e){return e.userLoading},h={todos:[],userId:0,todoId:0,user:null,errors:{},userLoading:!1},v=Object(d.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TODOS":return Object(i.a)(Object(i.a)({},e),{},{todos:t.todos});case"SET_USER":return Object(i.a)(Object(i.a)({},e),{},{user:t.user});case"SET_USER_ERROR":return Object(i.a)(Object(i.a)({},e),{},{errors:Object(i.a)(Object(i.a)({},e.errors),{},{user:"User not found"})});case"UPDATE_USER_ID":return Object(i.a)(Object(i.a)({},e),{},{userId:t.id});case"UPDATE_TODO_ID":return Object(i.a)(Object(i.a)({},e),{},{todoId:t.id});case"CLEAR":return Object(i.a)(Object(i.a)({},e),{},{todoId:0,userId:0,user:{}});case"RESET_ERRORS":return Object(i.a)(Object(i.a)({},e),{},{errors:{}});case"USER_LOADING":return Object(i.a)(Object(i.a)({},e),{},{userLoading:t.bool});default:return e}}),Object(m.composeWithDevTools)(Object(d.applyMiddleware)(E.a))),T=(n(35),n(25)),R=n(18),S=function(e,t){return fetch("".concat("https://mate-api.herokuapp.com/").concat(e),t).then((function(e){if(!e.ok)throw new Error("".concat(e.status));return e.json()}))},y=function(e){return{type:"USER_LOADING",bool:e}},U=function(e){return{type:"SET_USER",user:e}},N=function(){return{type:"RESET_ERRORS"}};!function(e){e.all="all",e.active="active",e.completed="completed"}(r||(r={}));var L=n(15),I=n.n(L),D=function(e){var t=e.todo,n=t.id,r=t.title,a=t.userId,o=t.completed,u=Object(l.c)(O),s=Object(l.b)();return c.a.createElement("li",{className:I()("TodoList__item ",{"TodoList__item--checked":o},{"TodoList__item--unchecked":!o}),key:n},c.a.createElement("label",null,c.a.createElement("input",{type:"checkbox",checked:o,readOnly:!0}),c.a.createElement("p",null,r)),c.a.createElement("button",{className:I()("TodoList__user-button",{"TodoList__user-button--selected":u===n},"button"),type:"button",onClick:function(){n!==u?(s(function(e){return{type:"UPDATE_TODO_ID",id:e}}(n)),s(function(e){return{type:"UPDATE_USER_ID",id:e}}(a))):s({type:"CLEAR"})}},"User #".concat(a)))},g=(n(36),c.a.memo((function(){var e=Object(l.c)(b),t=Object(l.b)(),n=Object(a.useState)(""),o=Object(R.a)(n,2),u=o[0],s=o[1],i=Object(a.useState)("all"),d=Object(R.a)(i,2),m=d[0],E=d[1];Object(a.useEffect)((function(){t((function(e){S("todos").then((function(t){return e({type:"SET_TODOS",todos:t.data})}))}))}),[t]);var f=Object(a.useMemo)((function(){if(e){var t=Object(T.a)(e);return"active"===m&&(t=t.filter((function(e){return e.title&&!e.completed}))),"completed"===m&&(t=t.filter((function(e){return e.title&&e.completed}))),t.filter((function(e){return e.title&&e.title.includes(u)}))}return[]}),[e,m,u]);return c.a.createElement("div",{className:"TodoList"},c.a.createElement("h2",null,"Todos:"),c.a.createElement("input",{type:"text",value:u,placeholder:"search",onChange:function(e){return s(e.target.value)}}),c.a.createElement("select",{name:"select",value:m,onChange:function(e){return E(e.target.value)}},Object.values(r).map((function(e){return c.a.createElement("option",{key:e},e)}))),c.a.createElement("div",{className:"TodoList__list-container"},c.a.createElement("ul",{className:"TodoList__list"},f.length>0?f.map((function(e){return c.a.createElement(D,{todo:e,key:e.id})})):"No todos")))}))),k=(n(37),function(){var e=Object(l.c)(f),t=Object(l.c)(p),n=Object(l.c)(_),r=Object(l.c)(j),o=Object(l.b)();return Object(a.useEffect)((function(){var t;o((t=e,function(e){e(y(!0)),S("users/".concat(t)).then((function(t){if(e(N()),!t.data)throw new Error;e(U(t.data)),e(y(!1))})).catch((function(){e(U({})),e({type:"SET_USER_ERROR"}),e(y(!1))}))}))}),[e,o]),c.a.createElement("div",{className:"CurrentUser"},!r&&t?n.user?"Such user does not exist":c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",{className:"CurrentUser__title"},c.a.createElement("span",null,"Selected user:\xa0",e)),c.a.createElement("h3",{className:"CurrentUser__name"},t.name),c.a.createElement("p",{className:"CurrentUser__email"},t.email),c.a.createElement("p",{className:"CurrentUser__phone"},t.phone),c.a.createElement("button",{type:"button",className:"clear-btn",onClick:function(){return o({type:"CLEAR"})}},"Clear")):c.a.createElement("div",{className:"loading"},"Loading..."))}),A=function(){var e=Object(l.c)(f);return c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"App__sidebar"},c.a.createElement(g,null)),c.a.createElement("div",{className:"App__content"},c.a.createElement("div",{className:"App__content-container"},e?c.a.createElement(k,null):"User not selected")))},C=function(){return c.a.createElement(l.a,{store:v},c.a.createElement(s.a,null,c.a.createElement(A,null)))};u.a.render(c.a.createElement(C,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.50dec55d.chunk.js.map